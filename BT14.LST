Microsoft (R) Macro Assembler Version 5.00                  4/13/17 19:43:40
                                                             Page     1-1


				;get the massage from cmos ram and display the 
				year/month/day hour/minet/second 
				assume cs:code 
				 
 0000				code segment 
				 
 0000  EB 13 90				jmp timestart 
 0003  00 00 2F 00 00 2F 00		timedata: db 0,0,'/',0,0,'/',0,0,' ',0,
				0,':',0,0,':',0,0,'$' 
       00 20 00 00 3A 00 00	
       3A 00 00 24		
				 
				 
 0015  BF 0000				timestart:mov di,0 
						 
 0018					cicledistime: 
 0018  BE 0003 R				mov si,offset timedata 
 001B  8C C8					mov ax,cs 
 001D  8E D8					mov ds,ax 
				 
						 
 001F  B4 00					mov ah,0 
 0021  B0 09					mov al,9 
 0023  E8 0071 R				call get 
 0026  E8 0076 R				call tra 
 0029  E8 0084 R				call put 
				 
 002C  B0 08					mov al,8 
 002E  E8 0071 R				call get 
 0031  E8 0076 R				call tra 
 0034  E8 0084 R				call put 
				 
 0037  B0 07					mov al,7 
 0039  E8 0071 R				call get 
 003C  E8 0076 R				call tra 
 003F  E8 0084 R				call put 
				 
 0042  B0 04					mov al,4 
 0044  E8 0071 R				call get 
 0047  E8 0076 R				call tra 
 004A  E8 0084 R				call put 
				 
 004D  B0 02					mov al,2 
 004F  E8 0071 R				call get 
 0052  E8 0076 R				call tra 
 0055  E8 0084 R				call put 
				 
 0058  B0 00					mov al,0 
 005A  E8 0071 R				call get 
 005D  E8 0076 R				call tra 
 0060  E8 0084 R				call put 
				 
						;mov bh,ds:[15] 
						;mov bl,ds:[16] 
Microsoft (R) Macro Assembler Version 5.00                  4/13/17 19:43:40
                                                             Page     1-2


						;cmp bx,ax 
						;jne judage 
						 
					;back:call put 
				 
 0063  BE 0003 R				mov si,offset timedata 
 0066  E8 008D R				call display 
						 
 0069  EB AD					jmp cicledistime 
					     
 006B  90				    stop:nop	 
						 
 006C  B8 4C00					mov ax,4c00h 
 006F  CD 21					int 21h 
				 
				 
				 
				 
 0071					get: 
 0071  E6 70					out 70h,al 
 0073  E4 71					in al,71h 
 0075  C3				    ret      
				 
 0076  8A E0				tra:mov ah,al 
 0078  B1 04					mov cl,4 
 007A  D2 EC					shr ah,cl 
 007C  24 0F					and al,00001111b 
 007E  80 C4 30					add ah,30h 
 0081  04 30					add al,30h 
 0083  C3					ret 
				 
				 
 0084  88 24				put:mov byte ptr [si],ah 
 0086  88 44 01					mov byte ptr [si].1,al 
 0089  46					inc si 
 008A  46					inc si 
 008B  46					inc si 
 008C  C3					ret 
				 
					;judage: cmp di,30 
					;	je stop 
					;	add di,1 
					;	jmp back 
				 
				 
				 
				 
				 
				 
				 
 008D				display:  
 008D  1E			            push ds  
 008E  57			            push di 
 008F  06			            push es 
Microsoft (R) Macro Assembler Version 5.00                  4/13/17 19:43:40
                                                             Page     1-3


				 
 0090  8C C8			            mov ax,cs 
 0092  8E D8			            mov ds,ax 
				             
 0094  B8 B800			            mov ax,0b800h 
 0097  8E C0			            mov es,ax 
 0099  BF 02D0			            mov di,160*4+40*2 
 009C  B4 01			            mov ah,1 
				 
 009E  8A 04			circlep:    mov al,ds:[si] 
 00A0  3C 24			            cmp al,'$' 
 00A2  74 07			            je outprint 
 00A4  26: 89 05		            mov es:[di],ax 
 00A7  47			            inc di 
 00A8  47			            inc di 
 00A9  EB F3			            jmp circlep 
				 
 00AB  07			outprint:   pop es 
 00AC  5F			            pop di 
 00AD  1F			            pop ds 
 00AE  C3			            ret 
				 
 00AF				code ends 
				end timestart 
Microsoft (R) Macro Assembler Version 5.00                  4/13/17 19:43:40
                                                             Symbols-1


Segments and Groups:

                N a m e         	Length	 Align	Combine Class

CODE . . . . . . . . . . . . . .  	00AF	PARA	NONE	

Symbols:            

                N a m e         	Type	 Value	 Attr

CICLEDISTIME . . . . . . . . . .  	L NEAR	0018	CODE
CIRCLEP  . . . . . . . . . . . .  	L NEAR	009E	CODE

DISPLAY  . . . . . . . . . . . .  	L NEAR	008D	CODE

GET  . . . . . . . . . . . . . .  	L NEAR	0071	CODE

OUTPRINT . . . . . . . . . . . .  	L NEAR	00AB	CODE

PUT  . . . . . . . . . . . . . .  	L NEAR	0084	CODE

STOP . . . . . . . . . . . . . .  	L NEAR	006B	CODE

TIMEDATA . . . . . . . . . . . .  	L NEAR	0003	CODE
TIMESTART  . . . . . . . . . . .  	L NEAR	0015	CODE
TRA  . . . . . . . . . . . . . .  	L NEAR	0076	CODE

@FILENAME  . . . . . . . . . . .  	TEXT  bt14		


    128 Source  Lines
    128 Total   Lines
     13 Symbols

  51062 + 465482 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
